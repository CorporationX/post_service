name: CI

on:
  pull_request:
    branches:
      - master

jobs:
  build:
    runs-on: ubuntu-latest


steps:
  - uses: actions/checkout@v2
  - name: Checkout repository

  - uses: actions/setup-java@v2
  - name: Set up JDK

    with:
      java-version: '17'
      distribution: 'adopt'

  - name: Build with Gradle
    run: ./gradlew build --no-daemon

  - name: Run tests with Gradle
    run: ./gradlew test --no-daemon